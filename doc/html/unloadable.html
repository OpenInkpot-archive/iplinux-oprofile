<HTML
><HEAD
><TITLE
>Unloadable kernel module</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="OProfile manual"
HREF="oprofile-guide.html"><LINK
REL="UP"
TITLE="Other features"
HREF="features.html"><LINK
REL="PREVIOUS"
TITLE="Other features"
HREF="features.html"><LINK
REL="NEXT"
TITLE="Obtaining and interpreting results"
HREF="results.html"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>OProfile manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="features.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 3. Other features</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="results.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="UNLOADABLE"
>Unloadable kernel module</A
></H1
><P
>By default, the kernel module is not unloadable. This is due to its internal behaviour with respect
to tracing system calls of processes. However you can optionally compile the ability for the module
to unload itself, in which case it will do so when you run op_stop. This can be useful if you need
to upgrade to a new version of oprofile without rebooting, or you are hacking on oprofile itself ;)</P
><P
><B
CLASS="COMMAND"
>lsmod</B
> and similar utilties will still show the module's use count as <TT
CLASS="CONSTANT"
>-1</TT
>.
However, this is not to be relied on - the module will become unloadable some short time after stopping profiling.</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>Enabling the ability to unload can have an impact on the performance of the profiler (numbers
not yet available).</P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="features.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="oprofile-guide.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="results.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Other features</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="features.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Obtaining and interpreting results</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>