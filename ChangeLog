2002-01-16  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: look for rtc_lock
 
	* module/compat.h: use rtc_lock if there

2002-01-16  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h:
	* module/apic_up_compat.h: cleanup + allow compile
	  !CONFIG_X86_LOCAL_APIC on 2.4/2.5. (only compile
	  tested)

2002-01-15  Philippe Elie  <ph_e@club-internet.fr>

	* events/op_events.c: avoid gui crash: event name must
	  contain only one word. If you test RTC patch destroy
	  ~/.oprofile/oprof_start_event#0

2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat.h:
	* module/compat.c:
	* module/op_rtc.c: 2.2 modversions fix
 
2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* module/compat.h:
	* module/compat.c:
	* module/op_rtc.c: fix 2.2 compile

2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* module/Makefile.in: whoops, forgot to commit this
 
2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start.cpp: some improvements for RTC
 
2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_stop: fix "op_start && op_stop" bug using multiple
	  dump_stop writes.
 
2002-01-14  Dave Jones <davej@suse.de>

	* pp/op_time.cpp: fix for printing (NaN%) in the zero sample case.

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_rtc.c: remove unneeded check

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_start: fix for PMC case
 
2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/op_start: take --rtc-value

	* dae/oprofiled.c: set headers sensibly for RTC

	* doc/oprofile.1.in: update

	* doc/oprofile.sgml: RTC update

	* events/op_events_descr.c: 
	* events/op_events.c: good name for RTC event 

	* gui/oprof_start.cpp: basic support for RTC

	* module/op_rtc.c: implement and use rtc_value

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/op_start: load module at start. Handle CPU_RTC.
	  Avoid sysctl for now on RTC case.

	* dae/oprofiled.c: only read sysctls if PMC. Needs clean.

	* events/op_events.c: add RTC event.

	* events/op_events_desc.c: get CPU type from module. 

	* module/op_init.c: detect CPU_RTC.

	* module/op_nmi.c: setup code moved from op_init.c

	* module/op_rtc.c: enable interrupt, fixed at 128 for now.

	* module/op_x86.c: add Athlon to needs_apic_setup checks

	* module/oprofile.c: use correct interrupt handler based on
	  CPU type

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* op_user.h: add CPU_RTC

	* op_init.c: add FIXMEs

	* op_nmi.c:
	* op_rtc.c:
	* oprofile.h:
	* oprofile.c: implement abstract interrupt handler code

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start_config.cpp: fix vmlinux/system.map defaults
 
2002-01-13  Philippe Elie  <ph_e@club-internet.fr>

	* configure.in: reject unsupported kernel version
	* module/apic_up_compat.h:
	* module/compat.h: small cleanup
	* module/op_x86.c: ditto, always put apic memory page as
	  non cachable

2002-01-12  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start_util.h:
	* gui/oprof_start_util.cpp: implement whitelist for arguments
	  to op_start
 
	* TODO: update
 
2002-01-13  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h:
	* module/apic_up_compat.h:
	* module/op_x86.c: allow to run oprofile when
	  !CONFIG_X86_LOCAL_APIC on 2.2.x kernel

2002-01-12  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: fix some FIXME
	* module/op_x86.c: do not hang SMP kernel UP box with 2.2.x

2002-01-11  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: support for UP from 2.2.0, for SMP
	  from 2.2.8. It is worthwhile to try more support.
	  !CONFIG_X86_LOCAL_APIC not yet supported.

2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/opd_proc.c:
	* doc/oprofile.sgml:
	* pp/op_time.cpp: add FIXMEs
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: never return 0 unless we're
	  really closing down
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
	* gui/Makefile.in:
	* gui/oprof_start.cpp: use absolute paths
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: add note about --with-linux
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* Rules.make.in:
	* gui/Makefile.in:
	* gui/oprof_start_config.h:
	* gui/oprof_start_config.cpp: remove kernel headers
	  from userland !

2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: remove dead checks. comment out APIC check,
	  hide grep output

	* module/Makefile.in: add compat.c

	* apic_up_compat.h: UP 2.2 missing defines. Need to investigate
	  fixmap situation. 

	* compat.c: move 2.2 dcache code here

	* compat.h: dcache compat support. check for whether we
	  should check for mptable. Don't do fixmap hack on 2.2 

	* op_dcache.h: shared dcache inline functions

	* op_syscalls.c: clean up dcache code for 2.2/2.4 

	* op_x86.c: update apic_need_setup for 2.2 and the possibility
	  of not enabling APIC support on 2.4 too. Needs checking ! Also
	  don't do mptable check on 2.2

	* oprofile.h: add missing include guard ;)
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat.h: minor fixes
 
2002-01-11  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: many change, can be used down to 2.2.8
	* module/oprofile.h: move #ifdef on kernel version to compat.h
	* module/op_util.c:
	* module/op_syscalls.c: minor change
	* configure.in: comment unnecessary stuf.

	* module/Makefile.in: missing include path for oprofile.s

2002-01-10  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.in: update checklist for dist

	* module/oprofile.h: add apparently needed version.h
 
2002-01-10  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: fix accidental trashing of BKCFLAGS

	* module/op_util.c: include right header

	* module/compat.h: use correct smp_call_function
 
2002-01-10  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: new file include backward compatibility
	  stuff

2002-01-09  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: update infodragon's email
	  address
 
	* configure.in: bump to 0.0.9cvs
 
2002-01-08  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* configure.in: fix case when X isn't installed. Bump to 0.0.8
 
2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* util/Makefile.in: "fix" last g++ 3.0 problem
	  with libiberty.h and string.h clashing prototypes
	  by disabling -pedantic for this directory
 
2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* pp/opf_container.cpp:
	* pp/opf_filter.h:
	* pp/oprofpp.cpp: 
	* pp/oprofpp.h: 
	* pp/oprofpp_util.cpp: 
	* util/file_manip.h:
	* util/file_manip.cpp: 
	* util/string_manip.h: fix most g++ 3.0 problems

2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
2002-01-05  Philippe Elie  <ph_e@club-internet.fr>

	* doc/oprofile.sgml: Avoid to use -- inside
	  sgml comment

2002-01-05  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_start:
	* dae/op_stop: (very) hacky loop to wait for
	daemon start and stop
 
2002-01-05  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: revert my broken stop fix,
	  and fix the old (new) one
 
2002-01-05  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_kernel.c:
	* dae/opd_proc.c:
	* dae/opd_proc.h:
	* dae/opd_util.c:
	* dae/oprofiled.c: 
	* dae/oprofiled.h: further minor cleanups

2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: change last change to have an
	  explicit check in the sysctl dump, rather than generalised
	  code.

2002-01-04  Philippe Elie  <ph_e@club-internet.fr>

	* module/oprofile.c: do not re-enable counter during
	  shutdown

	* dae/Makefile.in: fix opd_kernel.c dependancy

2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/Makefile.in:
	* dae/opd_proc.c:
	* dae/opd_kernel.c: move kernel/module stuff into
	  new file. Some minor changes.
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/oprofiled.c: remove extra dump
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_proc.c: minor crap
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/oprofiled.c:
	* dae/oprofiled.h:
	* dae/opd_proc.c: print stats on shutdown too

	* module/oprofile.c: additional check against daemon hanging on shutdown :(
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_stop:
	* dae/oprofiled.c:
	* doc/oprofile.sgml:
	* module/oprofile.h:
	* module/oprofile.c: implement new clean shutdown via
	  sysctl dump_stop
 
2002-01-04  Philippe Elie  <ph_e@club-internet.fr>

	* module/oprofile.c: add a warning when note buff overflow.

2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: pin note at the end on overflow
 
2002-01-03  Philippe Elie  <ph_e@club-internet.fr>

	* dae/opd_proc.c: Apologies: stupid bug. Never forget
	  than LRU list of samples files must not contain already
  	  unmaped files

	* module/oprofile.c: another silly bug, detected cpu was
	  overwritten...

2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: some fixes, comments

2002-01-03  Philippe Elie  <ph_e@club-internet.fr>

	* doc/oprofile.sgml: improve documentation, corrected
	  by John Levon

2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start.h:
	* gui/oprof_start.cpp:
	* gui/ui/oprof_start.base.ui: remove the config buttons
	  and save on a hide from the WM
 
2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: make sure note_pos never goes
	  past the buffer :P
 
2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_util.c: allow EAGAINs through as well
 
2002-01-02  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_container.cpp:
	* pp/opf_filter.cpp: minor change

2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: various docs improvements
 
2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* dae/oprofiled.c: better enable the actual
	  profiling again :P
 
2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* config.h.in: remove this again from CVS.
 
2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_stop: send SIGUSR1 to stop profiler
 
	* dae/opd_proc.c: reformat a little
 
	* dae/opd_util.h:
	* dae/opd_util.c: change opd_read_device semantics
 
	* dae/oprofiled.c: clean shutdown from SIGUSR1
 
	* module/oprofile.c: handle non-blocking reads
 
	* pp/opf_filter.h:
	* pp/opf_filter.cpp: slight cleanups
 
	* TODO: update
 
2002-01-01  John Levon  <moz@compsoc.man.ac.uk>

	* oprofile.sgml: clarify that -g is not necessary for
	  basic profiling (reported by Jeff Epler <jepler@inetnebr.com>)

See ChangeLog-2001 for earlier changelogs.
