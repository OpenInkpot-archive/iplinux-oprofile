2004-01-04  Philippe Elie  <phil.el@wanadoo.fr>

	* libutil/op_fileio.c: op_write_file(): allow to write zero byte.
	* libutil/op_fileio.h: add fatal error for opd_read_int_from_file()
	* daemon/init.c: add fatal error for opd_read_fs_int
	* daemon/oprofiled.c:
	* daemon/oprofiled.h:
	* daemon/liblegacy/init.c:
	* daemon/liblegacy/opd_24_stats.c: use this new fatal parameter
	* daemon/opd_stats.c: dump /dev/oprofile/stats/*

	* daemon/opd_sfile.c:
	* daemon/opd_sfile.h: augment opd_sfile with an hash table of related
	  call graph file
	
	* daemon/opd_mangling.c:
	* daemon/opd_mangling.h:
	* daemon/liblegacy/opd_sample_files.c:
	* libop/op_mangle.c:
	* libop/op_mangle.h: use new mangling name scheme, in short word:
	  {dep} part is no longer optionnal, a {cg}/binary_name can optionnally
	  follow the {dep} part
	* libop/tests/mangle_tests.c: update test according to sample filename
	  change

	* libpp/filename_spec.cpp:
	* libpp/filename_spec.h: filename_spec::is_dependant() new function
	* libpp/parse_filename.h: add a cg_image member
	* libpp/parse_filename.cpp: handle callgraph filename

	* libpp/arrange_profiles.cpp:
	* libpp/arrange_profiles.h: rather to use string for sample files, use
	  a { string sample_filename, list<string> cg_files }, if {dep} part
	  != {cg} part it's a cross-call binary.
	  Note the sample_filename string can be empty (callgraph file w/o any
	  samples into a binary)

	* libpp/profile_spec.h:
	* libpp/profile_spec.cpp: fix filtering of callgraph filename (this fix
	  Carlo problem where opreport die with an invalid_filename error)

	* pp/opgprof.cpp: use the new arrange_profiles.h API to acquire
	  callgraph filename associated with a binary
	* pp/opgprof_options.cpp: don't filter callgraph filename

	* pp/opreport.cpp:
	* pp/populate.cpp: update according arrange_profile API change

	* utils/opcontrol: add --callgraph=#depth parameter
	* doc/opcontrol.1.in:
	* doc/oprofile.xml: document opcontrol --callgraph=#depth

2004-01-02  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/opgprof_options.cpp: use the proper type for options::demangle

2004-01-01  Philippe Elie  <phil.el@wanadoo.fr>

	* libregex/op_regex.cpp:
	* libregex/op_regex.h: tidy a bit private interface

2004-01-01  Philippe Elie  <phil.el@wanadoo.fr>

	* gui/oprof_start_config.h:
	* gui/oprof_start_util.h:
	* libpp/symbol.h:
	* libutil++/cverb.cpp:
	* libutil++/cverb.h:
	* pp/opannotate_options.cpp:
	* pp/opgprof_options.cpp: move some #include <> from .h to .cpp

2004-01-01  Philippe Elie  <phil.el@wanadoo.fr>

	* libregex/op_regex.cpp: don't assume int('a') > int('0')

See ChangeLog-2003 for earlier changelogs.
