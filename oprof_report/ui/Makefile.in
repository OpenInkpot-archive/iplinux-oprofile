MOC=@MOC@
UIC=@UIC@

CXX=@CXX@
CXXFLAGS=-Wall -W @CXXFLAGS@ @QT2_INCLUDES@

.PHONY: all clean install uninstall
.SUFFIXES:

all: oprof_report.base.o oprof_report.base.moc.o

# oprof_report.cpp, oprof_report.h are generated file, but must not re-generated
clean:
	rm -f *.o *.moc.* oprof_report.base.cpp oprof_report.base.h

install:
uninstall:

oprof_report.base.moc.o: oprof_report.base.moc.cpp oprof_report.base.h
	$(CXX) -c $(CXXFLAGS) $< -o $@
oprof_report.base.o: oprof_report.base.cpp oprof_report.base.h
	$(CXX) -c $(CXXFLAGS) $< -o $@

# generate qt header file
oprof_report.base.h: oprof_report.base.ui
	$(UIC) -o oprof_report.base.h oprof_report.base.ui

# generate qt implementation file
oprof_report.base.cpp: oprof_report.base.h oprof_report.base.ui
	$(UIC) -o oprof_report.base.cpp -impl oprof_report.base.h oprof_report.base.ui

# generate qt moc code for base class
oprof_report.base.moc.cpp: oprof_report.base.h
	$(MOC) -o oprof_report.base.moc.cpp oprof_report.base.h
